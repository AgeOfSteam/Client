<!--*********************  CustomOreGen ThermalExpansion Ores Module ******************************
*
*   This file contains Presets, Options, and Distributions for the 5 TE ores:
*       Copper, Tin, Silver, Lead and Nickel.
*
***********************************************************************************************-->
<IfModInstalled name="ThermalFoundation">

    <!--***************************   Options + Symbols   ***********************************
    *
    *   Below are options and symbols for each ore, similar to those for the standard ores.
    *
    *************************************************************************************-->
    <ConfigSection>                
    
        <OptionDisplayGroup name='groupTE' displayName='Thermal Expansion' displayState='shown'>
            <Description> 
                Distribution options for the TE ores.
            </Description>
        </OptionDisplayGroup>
        
        <!--*******************   Lead   *********************-->
        <ConfigSection>
            
            <OptionChoice name='teLeadDist' displayState='shown' displayGroup='groupTE'>
                <Description> Controls how TE Lead is generated </Description>
                <DisplayName>TE Lead Type</DisplayName>
                <Default>layeredVeins</Default>
                <Choice value='layeredVeins' displayValue='Veins'>
                    <Description> 
                        Groups of long narrow veins found about two thirds of the way down to bedrock.  Especially common in deserts.  
                    </Description>
                </Choice>
                <Choice value='strategicClouds' displayValue='Clouds'>
                    <Description> 
                        Rare, sparsely populated clouds of ore extending over several chunks.  Found only in deserts.
                    </Description>
                </Choice>
                <Choice value='vanillaStdGen' displayValue='Clusters'>
                    <Description> 
                        Small clusters of ore scattered about two thirds of the way down to bedrock.  This is the default TE lead generation.
                    </Description>
                </Choice>
                <Choice value='none' displayValue='None' description='No lead is generated at all.'/>
            </OptionChoice>
            
            <OptionNumeric name='teLeadFreq' default='1'  min='0' max='5' displayState=':= if(?advOptions,"shown","hidden")' displayGroup='groupTE'>
                <Description> Frequency multiplier for TE Lead distributions </Description>
                <DisplayName>TE Lead Freq.</DisplayName>
            </OptionNumeric>
            
            <OptionNumeric name='teLeadSize' default='1'  min='0' max='5' displayState=':= if(?advOptions,"shown","hidden")' displayGroup='groupTE'>
                <Description> Size multiplier for TE Lead distributions </Description>
                <DisplayName>TE Lead Size</DisplayName>
            </OptionNumeric>
            
        </ConfigSection>           

        <!--*******************   Ferrous Ore   *********************-->
        <ConfigSection>
            
            <OptionChoice name='teFerrousDist' displayState='shown' displayGroup='groupTE'>
                <Description> Controls how TE Ferrous Ore is generated </Description>
                <DisplayName>TE Ferrous Ore Type</DisplayName>
                <Default>layeredVeins</Default>
                <Choice value='layeredVeins' displayValue='Veins'>
                    <Description> 
                        Groups of long narrow veins found near bedrock.  Especially common in swamps.  
                    </Description>
                </Choice>
                <Choice value='strategicClouds' displayValue='Clouds'>
                    <Description> 
                        Rare, sparsely populated clouds of ore extending over several chunks.  Found only in swamps.
                    </Description>
                </Choice>
                <Choice value='vanillaStdGen' displayValue='Clusters'>
                    <Description> 
                        Small clusters of ore scattered near bedrock.  This is the default TE ferrous ore generation.
                    </Description>
                </Choice>
                <Choice value='none' displayValue='None' description='No ferrous ore is generated at all.'/>
            </OptionChoice>
            
            <OptionNumeric name='teFerrousFreq' default='1'  min='0' max='5' displayState=':= if(?advOptions,"shown","hidden")' displayGroup='groupTE'>
                <Description> Frequency multiplier for TE Ferrous Ore distributions </Description>
                <DisplayName>TE Ferrous Ore Freq.</DisplayName>
            </OptionNumeric>
            
            <OptionNumeric name='teFerrousSize' default='1'  min='0' max='5' displayState=':= if(?advOptions,"shown","hidden")' displayGroup='groupTE'>
                <Description> Size multiplier for TE Ferrous Ore distributions </Description>
                <DisplayName>TE Ferrous Ore Size</DisplayName>
            </OptionNumeric>
            
        </ConfigSection>           

     </ConfigSection>    
   
    <!--*****************************   Distributions   *************************************
    *   
    *   Below are the actual distributions for the overworld and mystcraft ages.
    *
    *************************************************************************************-->
    <IfCondition condition=':= ?COGActive'>
        
        <Substitute name='TESubstitute' block='minecraft:stone'>
            <Description> 
                Replace TE-generated ore clusters with stone.   
            </Description>
            <Comment>  
                The global option deferredPopulationRange must be large enough to catch all ore clusters (>= 32).
            </Comment>
            <Replaces block='ThermalFoundation:Ore:0'/>
            <Replaces block='ThermalFoundation:Ore:1'/>
            <Replaces block='ThermalFoundation:Ore:2'/>
            <Replaces block='ThermalFoundation:Ore:3'/>
            <Replaces block='ThermalFoundation:Ore:4'/>
        </Substitute>

        <!--*******************   Lead   *********************-->            
        <ConfigSection>
        
            <IfCondition condition=':= if(age, age.teLeadClusters > 0, teLeadDist = "vanillaStdGen")'>
                <StandardGen name='TELeadStandard' block='ThermalFoundation:Ore:3' inherits='PresetStandardGen'> 
                    <Description> Equivalent to regular TE lead distribution </Description>
                    <DrawWireframe>:=drawWireframes</DrawWireframe>
                    <WireframeColor>0x40222222</WireframeColor> 
                    <Setting name='Size' avg=':= teLeadSize * _default_'/> 
                    <Setting name='Frequency' avg=':= 1/5 * teLeadFreq * if(age,age.teLeadClusters,1) * _default_' 
                                                range=':= 1.5 * teLeadFreq * if(age,age.teLeadClusters,1)'/>
                    <Setting name='Height' avg=':= 22/64 * dimension.groundLevel' range=':= 12/64 * dimension.groundLevel' type='normal'/> 
                </StandardGen>
            </IfCondition>   
            
            <IfCondition condition=':= if(age, age.teLeadVeins > 0, teLeadDist = "layeredVeins")'>             
                <Veins name='TELeadVeins' block='ThermalFoundation:Ore:3' inherits='PresetLayeredVeins'>
                    <Description>  Average veins in the 10-30 range;
                    more common in deserts. </Description> 
                    <DrawWireframe>:=drawWireframes</DrawWireframe>
                    <WireframeColor>0x40222222</WireframeColor> 
                    <Setting name='MotherlodeFrequency' avg=':= 0.85 * teLeadFreq * if(age,age.teLeadVeins,1) * _default_'/>
                    <Setting name='MotherlodeSize' avg=':= teLeadSize * _default_' range=':= teLeadSize * _default_'/>
                    <Setting name='MotherlodeHeight' avg=':= 20/64 * dimension.groundLevel' range=':= 10/64 * dimension.groundLevel' type='normal'/>
                    <Setting name='BranchFrequency' avg=':= 0.85 * _default_' range=':= 0.85 * _default_'/>
                    <Setting name='BranchLength' avg=':= _default_'/>
                    <Setting name='BranchHeightLimit' avg='12'/>
                    <Setting name='BranchFrequency' avg=':= 0.85 * _default_'/>
                    <Setting name='SegmentRadius'
                             avg=':= 0.85 * teLeadSize * _default_'
                             range=':= 0.85 * teLeadSize * _default_'/>
                </Veins>                
                <Veins name='TELeadVeinsDesert' inherits='TELeadVeins'>
                    <Description> This roughly triples the chance of finding Lead in desert biomes. </Description> 
                    <Setting name='MotherlodeFrequency' avg=':= 2 * _default_'/>
                    <Setting name='MotherlodeHeight' avg=':=_default_' range=':= 2 * _default_'/>
                    <Setting name='BranchHeightLimit' avg=':= 2 * _default_'/>  
                    <BiomeType name='Sandy'/>
                </Veins>   
            </IfCondition>     
            
            <IfCondition condition=':= if(age, age.teLeadClouds > 0, teLeadDist = "strategicClouds")'>
                <Cloud name='TELeadCloud' block='ThermalFoundation:Ore:3' inherits='PresetStrategicCloud'>
                    <Description>  
                        Diffuse lead cloud surrounded by single-block "hint" veins, found in desert biomes.
                    </Description> 
                    <DrawWireframe>:=drawWireframes</DrawWireframe>
                    <WireframeColor>0x40773300</WireframeColor> 
                    <Setting name='DistributionFrequency'
                             avg=':= 2.5 * teLeadFreq * if(age,age.teLeadClouds,1) * _default_'/>
                    <Setting name='CloudRadius'
                             avg=':= 0.85 * teLeadSize * _default_'
                             range=':= 0.85 * teLeadSize * _default_'/>
                    <Setting name='CloudThickness'
                             avg=':= 0.85 * teLeadSize * _default_'
                             range=':= teLeadSize * _default_'/> 
                    <BiomeType name='Sandy'/>
                    <Veins name='TELeadHintVeins' block='ThermalFoundation:Ore:3' inherits='PresetHintVeins'>
                        <DrawWireframe>:=drawWireframes</DrawWireframe>
                        <WireframeColor>0x40222222</WireframeColor> 
                        <Setting name='MotherlodeFrequency'
                                 avg=':= 0.6 * _default_' range=':= _default_'/>
                        <Setting name='MotherlodeRangeLimit'
                                 avg=':= 0.9 * teLeadSize * _default_'
                                 range=':= 0.85 * teLeadSize * _default_'/>
                    </Veins>
                </Cloud>
            </IfCondition>  
            
        </ConfigSection>

        <!--*******************   Ferrous Ore   *********************-->            
        <ConfigSection>
        
            <IfCondition condition=':= if(age, age.teFerrousClusters > 0, teFerrousDist = "vanillaStdGen")'>
                <StandardGen name='TEFerrousStandard' block='ThermalFoundation:Ore:4' inherits='PresetStandardGen'> 
                    <Description> Equivalent to regular TE lead distribution </Description>
                    <DrawWireframe>:=drawWireframes</DrawWireframe>
                    <WireframeColor>0x40005500</WireframeColor> 
                    <Setting name='Size' avg=':= 0.5 * teFerrousSize * _default_'/> 
                    <Setting name='Frequency' avg=':= 0.1 * teFerrousFreq * if(age,age.teFerrousClusters,1) * _default_' 
                                                range=':= 0.75 * teFerrousFreq * if(age,age.teFerrousClusters,1)'/>
                    <Setting name='Height' avg=':= 12/64 * dimension.groundLevel' range=':= 7/64 * dimension.groundLevel' type='uniform'/> 
                </StandardGen>
            </IfCondition>   
            
            <IfCondition condition=':= if(age, age.teFerrousVeins > 0, teFerrousDist = "layeredVeins")'>             
                <Veins name='TEFerrousVeins' block='ThermalFoundation:Ore:4' inherits='Presetlayeredveins'>
                    <Description>  Average veins in the 10-30 range;
                    more common in deserts. </Description> 
                    <DrawWireframe>:=drawWireframes</DrawWireframe>
                    <WireframeColor>0x40005500</WireframeColor> 
                    <Setting name='MotherlodeFrequency' avg=':= 0.85 * teFerrousFreq * if(age,age.teFerrousVeins,1) * _default_'/>
                    <Setting name='MotherlodeSize'
                             avg=':= 0.8 * teFerrousSize * _default_'
                             range=':= 0.5 * teFerrousSize * _default_'/>
                    <Setting name='MotherlodeHeight' avg=':= 20/64 * dimension.groundLevel' range=':= 10/64 * dimension.groundLevel' type='normal'/>
                    <Setting name='BranchFrequency' avg=':= 0.85 * _default_'/>
                    <Setting name='BranchLength' avg=':= 0.75 * _default_'/>
                    <Setting name='BranchHeightLimit' avg='10'/>
                    <Setting name='SegmentRadius'
                             avg=':= 0.7 * teFerrousSize * _default_'
                             range=':= 0.5 * teFerrousSize * _default_'/>
                </Veins>
                <Veins name='TEFerrousVeinsSwamp' inherits='TEFerrousVeins'>
                    <Description> This roughly triples the chance of finding Ferrous Ore in swamp biomes. </Description> 
                    <Setting name='MotherlodeFrequency' avg=':= 2 * _default_'/>
                    <Setting name='MotherlodeHeight' avg=':=_default_' range=':= 2 * _default_'/>
                    <Setting name='BranchHeightLimit' avg=':= 2 * _default_'/>  
                    <BiomeType name='Swamp'/>
                </Veins>   
            </IfCondition>     
            
            <IfCondition condition=':= if(age, age.teFerrousClouds > 0, teFerrousDist = "strategicClouds")'>
                <Cloud name='TEFerrousCloud' block='ThermalFoundation:Ore:4' inherits='PresetStrategicCloud'>
                    <Description>  
                        Diffuse ferrous ore cloud surrounded by single-block "hint" veins, found in swamp biomes.
                    </Description> 
                    <DrawWireframe>:=drawWireframes</DrawWireframe>
                    <WireframeColor>0x40005500</WireframeColor> 
                    <Setting name='DistributionFrequency' avg=':= 4.5 * teFerrousFreq * if(age,age.teFerrousClouds,1) * _default_'/>
                    <Setting name='CloudRadius' avg=':= 0.8 * teFerrousSize * _default_' range=':= teFerrousSize * _default_'/>
                    <Setting name='CloudThickness'
                             avg=':= 0.8 * teFerrousSize * _default_'
                             range=':= teFerrousSize * _default_'/>
                    <Setting name='OreDensity' avg=':= 0.3 * _default_'/>
                    <BiomeType name='Swamp'/>
                    <Veins name='TEFerrousHintVeins' block='ThermalFoundation:Ore:4' inherits='PresetHintVeins'>
                        <DrawWireframe>:=drawWireframes</DrawWireframe>
                        <WireframeColor>0x40005500</WireframeColor> 
                        <Setting name='MotherlodeFrequency'
                                 avg=':= 0.3 * _default_' range=':= _default_'/>
                        <Setting name='MotherlodeRangeLimit'
                                 avg=':= 0.75 * teFerrousSize * _default_'
                                 range=':= 0.65 * teFerrousSize * _default_'/>
                    </Veins>
                </Cloud>
            </IfCondition>  
            
        </ConfigSection>

    </IfCondition>
    
</IfModInstalled>
